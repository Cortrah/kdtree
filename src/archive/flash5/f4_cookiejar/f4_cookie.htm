<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>Flash 4 Cookie</title>
</head>
<body aLink="#336699" bgColor="#FFFFFF" link="#336699" vLink="#336699" text="#0000000" onLoad="MM_preloadImages('../../../images/home_over.gif','../../../images/me_patch_over.gif','../../../images/thoughts_patch_over.gif','../../../images/lillab_patch_over.gif','../../../images/art_patch_over.gif')">
      <p align="center" class="basic_copy"><b>Flash4 Cookie Tutorial and HTMLTemplate</b></p>
      <p class="basic_copy"><b>First be aware.</b><br>
        This method uses Javascript, which doesn't communicate with Flash within
        IE on the Mac. If you have an important business need for using a cookie
        you would be better off with a server side tool, which doesn't suffer
        from this limitation. But for artists and experimenters, this method is
        pretty nice. The best use of it may be to save a string on the hard drive
        if you want to distribute via CD. A cookie only saves one string. If you
        want to save more than one string, you might want to use something like
        a stack or a list and concatenate the string values together before saving
        them. On reentry pop the values back off the stack or list to get back
        your information.</p>
      <p class="basic_copy">Also, be sure to test with cookies disabled to make
        sure that your movie degrades gracefully if cookies are turned off.</p>
      <p class="basic_copy"><b>So how do you use the cookieJar HTML template?</b><br>
        First place the cookieJar.html file in your Flash HTML template directory.
        On windows this default would be C:/Program Files/Macromedia/Flash/HTML/.</p>
      <p class="basic_copy">Before you publish your fla, go to File/Publish on
        the menu. Choose the HTML tab and change the Template to CookieJar.</p>
      <p class="basic_copy">When you want to update the value of the cookie send
        an FS Command with &quot;setCookies&quot; as the command and the string
        you want to save as the argument.</p>
      <p class="basic_copy">For example this code could be put in a button.</p>
      <blockquote>
        <p class="basic_copy">On (Release)<br>
          FS Command ("setCookies", "Peanut Butter")<br>
          End On </p>
      </blockquote>
      <p class="basic_copy">Clicking this button would then set the value of the
        cookie to the string &quot;Peanut Butter&quot;. The Javascript code will
        then also update the &quot;/:CookieJar&quot; variable in Flash to &quot;Peanut
        Butter&quot; as well. The code tells the cookie to persist for a year
        from the last time it was set.</p>
      <p class="basic_copy">I would suggest that you don't use the &quot;/:CookieJar&quot;
        variable directly as the second argument in the call to FS Command. If
        you want to use a variable, create it separately, calling it &quot;/:CookieValue&quot;,
        for example. That would make it easier to debug and also would avoid situations
        where Javascript and ActionScript both are trying to change the CookieJar
        variable at the same time. </p>
      <p class="basic_copy">So you would write to CookieValue and send that to
        the JavaScript code. The JavaScript code writes to CookieJar which you
        only read from. </p>
      <p class="basic_copy">There is an example .fla that you can use to examine
        this more. You can look at it <a href="cookieJarEx.html">here</a>.</p>
      <p class="basic_copy"><b>So how does it work?<br>
        </b>When you first come to the page there is an OnLoad handler in the
        HTML that is called when the page first finishes loading. This handler
        calls the FSCommand Function with &quot;GetCookies&quot; as the command.
        This function gets the cookie value if it it exists, otherwise it initializes
        the cookie with the string value &quot;initialized&quot; and saves it
        for the user.</p>
      <p class="basic_copy">Now the Flash movie can call the FSCommand function
        further with &quot;setCookies&quot; and &quot;a string value&quot; as
        described above, which will update the cookie value to what was set.</p>
      <p class="basic_copy"><a href="cookieJar.html">cookieJar.html</a> template
        - this is a blank HTML template so use &quot;view source&quot;<a href="cookieJarEx.fla"><br>
        cookieJar.fla</a> - the example .fla</p>
</body>
</html>

