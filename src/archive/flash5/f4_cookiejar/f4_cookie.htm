<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>Flash 4 Cookie</title>
<script language="JavaScript">
<!--
function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}

function MM_findObj(n, d) { //v4.01
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && d.getElementById) x=d.getElementById(n); return x;
}
//-->
</script>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1555529-1";
urchinTracker();
</script>
<link rel="stylesheet" href="../../../basic_copy.css" type="text/css">
</head>
<script LANGUAGE="JavaScript">
function engage(flashNode) {
	if (flashNode=="Twilight"){
			window.open("http://www.notebookmargins.com/stories/twilight/of_twilight.htm","TwilightWindow","type=fullwindow,width=634,height=435, menubar=no,toolbar=no");
	} else if(flashNode == "SpaceOpera"){
			window.open("http://www.notebookmargins.com/lillab/spaceopera/spaceopera.htm","SpaceOperaWindow","type=fullwindow,width=550,height=236, menubar=no,toolbar=no");
	} else if(flashNode == "EntropyIsle"){
			window.open("http://www.notebookmargins.com/lillab/entropyisle/entropyisle.htm","EntropyIsleWindow","type=fullwindow,width=627,height=370, menubar=no,toolbar=no");
	}
}	
</script>
<body aLink="#FFFFFF" bgColor="#000000" link="#FFFFCC" vLink="#FFFFCC" text="#000000" onLoad="MM_preloadImages('../../../images/home_over.gif','../../../images/me_patch_over.gif','../../../images/thoughts_patch_over.gif','../../../images/lillab_patch_over.gif','../../../images/art_patch_over.gif')">
<!-- #BeginLibraryItem "/Library/TopNavigation.lbi" -->
<link rel="stylesheet" href="../../../basic_copy.css" type="text/css">
<table border="0" width="100%" height="68"  bgcolor="000000" cellspacing="0" cellpadding="0">
    <td width="152" height="68" valign="top" align="left"></td>
    <td width="*%" height="68" valign="top">
      <p align="center"><a href="../../../index.htm"><img border="0" src="../../../images/marquetitle.gif" width="287" align="center" height="31" alt="Notebook Margins Playhouse"></a>
    </td>
    <td width="152" height="68" valign="top" align="right">
      <p align="center"><img border="0" src="../../../images/right_marque.gif" align="right" width="101" height="68"></td>
</table>
<p align="right" class="navish"><a href="../../../why_notebook_margins.htm">why Notebook 
  Margins ?</a>&nbsp;</p>
<!-- #EndLibraryItem --><p align="center">
<table border="0" cellPadding="2" width="100%" align="center" bgColor="#000000">
  <tr>
  	<td width="100%" bgColor="#CC6666"> 
      <p><font color="#000000" size="2" align="right"><!-- #BeginLibraryItem "/Library/SectionNav.lbi" --><font color="#99CCFF" size="2" align="right"><a href="../../../index.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('home','','../../../images/home_over.gif',1)"><img name="home" border="0" alt='Go to the home page of Notebook Margins Playhouse'src="../../../images/home.gif" width="15" height="15"></a> 
      <a href="../../../me/me.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Me','','../../../images/me_patch_over.gif',1)"><img name="Me" border="0" alt='Go to the "Me" section' src="../../../images/me_patch.gif" width="15" height="15" ></a> 
      <a href="../../../thoughts/thoughts.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('thoughts','','../../../images/thoughts_patch_over.gif',1)"><img name="thoughts" border="0" alt='Go to the "Thoughts" section' src="../../../images/thoughts_patch.gif" width="15" height="15" ></a> 
      <a href="../../lil_lab.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('little lab','','../../../images/lillab_patch_over.gif',1)"><img name="little lab" border="0" alt='Go to the "Little Lab" section' src="../../../images/lillab_patch.gif" width="15" height="15" ></a> 
      <b> <font face="Arial, Helvetica, sans-serif"> </font></b><font face="Arial, Helvetica, sans-serif"><a href="../../../art/art.htm" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Art','','../../../images/art_patch_over.gif',1)"> 
      <img name="Art" border="0" alt='Go to the "Art" section' src="../../../images/art_patch.gif" width="15" height="15"></a></font></font><!-- #EndLibraryItem --><a href="../flash_things.htm"> 
        Flash Things</a></font></p>
	</td>
  </tr>
</table>
<table width="600"  bgColor="#333333" align="center" cellPadding="8">
  <tr>
 	<td width="20%" > </td>
  	<td width="80%">  
      <p align="center" class="basic_copy"><b>Flash4 Cookie Tutorial and HTMLTemplate</b></p>
      <p class="basic_copy"><b>First be aware.</b><br> 
        This method uses Javascript, which doesn't communicate with Flash within 
        IE on the Mac. If you have an important business need for using a cookie 
        you would be better off with a server side tool, which doesn't suffer 
        from this limitation. But for artists and experimenters, this method is 
        pretty nice. The best use of it may be to save a string on the hard drive 
        if you want to distribute via CD. A cookie only saves one string. If you 
        want to save more than one string, you might want to use something like 
        a stack or a list and concatenate the string values together before saving 
        them. On reentry pop the values back off the stack or list to get back 
        your information.</p>
      <p class="basic_copy">Also, be sure to test with cookies disabled to make 
        sure that your movie degrades gracefully if cookies are turned off.</p>
      <p class="basic_copy"><b>So how do you use the cookieJar HTML template?</b><br>
        First place the cookieJar.html file in your Flash HTML template directory. 
        On windows this default would be C:/Program Files/Macromedia/Flash/HTML/.</p>
      <p class="basic_copy">Before you publish your fla, go to File/Publish on 
        the menu. Choose the HTML tab and change the Template to CookieJar.</p>
      <p class="basic_copy">When you want to update the value of the cookie send 
        an FS Command with &quot;setCookies&quot; as the command and the string 
        you want to save as the argument.</p>
      <p class="basic_copy">For example this code could be put in a button.</p>
      <blockquote> 
        <p class="basic_copy">On (Release)<br>
          FS Command ("setCookies", "Peanut Butter")<br>
          End On </p>
      </blockquote>
      <p class="basic_copy">Clicking this button would then set the value of the 
        cookie to the string &quot;Peanut Butter&quot;. The Javascript code will 
        then also update the &quot;/:CookieJar&quot; variable in Flash to &quot;Peanut 
        Butter&quot; as well. The code tells the cookie to persist for a year 
        from the last time it was set.</p>
      <p class="basic_copy">I would suggest that you don't use the &quot;/:CookieJar&quot; 
        variable directly as the second argument in the call to FS Command. If 
        you want to use a variable, create it separately, calling it &quot;/:CookieValue&quot;, 
        for example. That would make it easier to debug and also would avoid situations 
        where Javascript and ActionScript both are trying to change the CookieJar 
        variable at the same time. </p>
      <p class="basic_copy">So you would write to CookieValue and send that to 
        the JavaScript code. The JavaScript code writes to CookieJar which you 
        only read from. </p>
      <p class="basic_copy">There is an example .fla that you can use to examine 
        this more. You can look at it <a href="cookieJarEx.html">here</a>.</p>
      <p class="basic_copy"><b>So how does it work?<br>
        </b>When you first come to the page there is an OnLoad handler in the 
        HTML that is called when the page first finishes loading. This handler 
        calls the FSCommand Function with &quot;GetCookies&quot; as the command. 
        This function gets the cookie value if it it exists, otherwise it initializes 
        the cookie with the string value &quot;initialized&quot; and saves it 
        for the user.</p>
      <p class="basic_copy">Now the Flash movie can call the FSCommand function 
        further with &quot;setCookies&quot; and &quot;a string value&quot; as 
        described above, which will update the cookie value to what was set.</p>
      <p class="basic_copy"><a href="cookieJar.html">cookieJar.html</a> template 
        - this is a blank HTML template so use &quot;view source&quot;<a href="cookieJarEx.fla"><br>
        cookieJar.fla</a> - the example .fla</p>
      </td>
  </tr>
   	<td width="20%" bgColor="#000000"></td>
	<td width="80%" bgColor="#000000">
	</tr>
</table>
<p>&nbsp;</p>
<!-- #BeginLibraryItem "/Library/BottomNavigation.lbi" -->
<link rel="stylesheet" href="../../../basic_copy.css" type="text/css">

<table border="0" cellPadding="2" bgcolor="000000" width="100%" class="navish">
  <TBODY> 
  <tr> 
    <td width="25%"> 
      <p align="center"><a href="../../../me/me.htm"><img border="0" src="../../../images/256_mea.gif" width="79" height="78" alt="Some background information on who I am"></a> 
    </td>
    <td width="25%"> 
      <p align="center"><a href="../../../thoughts/thoughts.htm"><img border="0" src="../../../images/256_thoughtsa.gif" width="79" height="78" alt="A place for me to put down my thoughts"></a> 
    </td>
    <td width="25%"> 
      <p align="center"><a href="../../lil_lab.htm"><img border="0" src="../../../images/256_lillaba.gif" width="79" height="78" alt="Works in progress"></a> 
    </td>
    <td width="25%"> 
      <p align="center"><a href="../../../art/art.htm"><img border="0" src="../../../images/256_poemsa.gif" width="79" height="78" alt="Completed work"></a> 
    </td>
  </tr>
  <tr> 
    <td width="25%" bgcolor="#CC9966"> 
      <p align="center"><big><strong><a href="../../../me/me.htm">Me</a></strong></big> 
    </td>
    <td width="25%" bgcolor="#999966"> 
      <p align="center"><big><strong><a href="../../../thoughts/thoughts.htm">Thoughts</a></strong></big> 
    </td>
    <td width="25%" bgcolor="#FF9999"> 
      <p align="center"><big><strong><a href="../../lil_lab.htm">Little Lab</a></strong></big> 
    </td>
    <td width="25%" bgcolor="#0099CC"> 
      <p align="center"><strong><big><a href="../../../art/art.htm">Art</a></big></strong> 
    </td>
  </tr>
  <tr> 
    <td width="25%" bgcolor="#996600" align="center"><a href="../../../me/my_portrait.htm">My 
      Portrait</a></td>
    <td width="25%" bgcolor="#666633" align="center"><a href="../../../thoughts/process.htm">On 
      Process</a></td>
    <td width="25%" bgcolor="#CC6666" align="center"><a href="../../spaceopera/on_space_opera.htm">Space 
      Opera</a></td>
    <td width="25%" bgcolor="#336699" align="center"><a href=javascript:engage('Twilight');>Of 
      Twilight</a></td>
  </tr>
  <tr> 
    <td width="25%" bgcolor="#996600" align="center"><a href="../../../me/my_work.htm">My 
      Work</a></td>
    <td width="25%" bgcolor="#666633" align="center"><a href="../../../thoughts/on_art/on_art.htm">On Art</a></td>
    <td width="25%" bgcolor="#CC6666" align="center"><a href="../../entropyisle/of_entropy.htm">Entropy 
      Island</a></td>
    <td width="25%" bgcolor="#336699" align="center"><a href="../../../art/fermentedjig/fj_1.htm">A 
      Fermented Jig</a> </td>
  </tr>
  <tr> 
    <td width="25%" bgcolor="#996600" align="center"><a href="../../../me/resume.htm">Resume</a></td>
    <td width="25%" bgcolor="#666633" align="center"><a href="http://www.notebookmargins.com/journal/index.php">Journal</a></td>
    <td width="25%" bgcolor="#CC6666" align="center"><a href="../../eroica/eroica.htm" "http://www.albany.edu/~interfac/eroica/">Eroica</a></td>
    <td width="25%"></td>
  </tr>
  <tr> 
    <td width="25%" bgcolor="#996600" align="center"><a href="../../../me/mail_me.htm">Mail 
      Me?</a></td>
    <td width="25%"></td>
    <td width="25%" bgcolor="#CC6666" align="center"><a href="../flash_things.htm">Flash 
      Things</a></td>
    <td width="25%"></td>
  </tr>
  <tr> 
    <td width="25%"></td>
    <td width="25%"></td>
    <td width="25%"></td>
    <td width="25%"></td>
  </tr>
  <tr> 
    <td width="25%"></td>
    <td width="25%"></td>
    <td width="25%"></td>
    <td width="25%"></td>
  </tr>
  </TBODY> 
</table>
<p align="center" class="navish"><a href="../../../references_and_linkages.htm">References 
  and Linkages</a></p>
<!-- #EndLibraryItem --></body>
</html>

